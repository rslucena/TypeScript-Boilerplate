import{M as s}from"./chunks/theme.CxV42vEX.js";import{I as f,c as y,o as v,j as a,J as o,aF as l,a as i}from"./chunks/framework.CZ2lsOHd.js";const k=JSON.parse('{"title":"Architecture Overview","description":"Project architecture and design principles","frontmatter":{"title":"Architecture Overview","description":"Project architecture and design principles"},"headers":[],"relativePath":"architecture/index.md","filePath":"architecture/index.md"}'),x={name:"architecture/index.md"},w=Object.assign(x,{setup(P){const n={type:"smoothstep",style:{stroke:"var(--vp-code-line-diff-add-symbol-color)",strokeWidth:1},animated:!0,markerEnd:s.ArrowClosed},e={type:"smoothstep",style:{stroke:"var(--vp-code-color)",strokeWidth:1},animated:!0,markerEnd:s.ArrowClosed},d=[{id:"bun",type:"multi-handle",label:"Bun",position:{x:100,y:0}},{id:"fastify",type:"multi-handle",label:"Fastify",position:{x:100,y:100}},{id:"swag",type:"multi-handle",label:"Swagger",position:{x:-50,y:200}},{id:"zod",type:"multi-handle",label:"Zod",position:{x:100,y:200}},{id:"driz",type:"multi-handle",label:"Drizzle",position:{x:250,y:200}},{id:"pg",type:"multi-handle",label:"Postgres",position:{x:250,y:300}},{id:"redis",type:"multi-handle",label:"Redis",position:{x:400,y:100}}],c=[{id:"e1",source:"bun",target:"fastify",sourceHandle:"bottom-source",targetHandle:"top",...e},{id:"e2",source:"fastify",target:"swag",sourceHandle:"bottom-source",targetHandle:"top",...e},{id:"e3",source:"fastify",target:"zod",sourceHandle:"bottom-source",targetHandle:"top",...e},{id:"e4",source:"fastify",target:"driz",sourceHandle:"bottom-source",targetHandle:"top",...e},{id:"e5",source:"driz",target:"pg",sourceHandle:"bottom-source",targetHandle:"top",...e},{id:"e6",source:"fastify",target:"redis",sourceHandle:"right-source",targetHandle:"left",...e}],u=[{id:"cmd",type:"multi-handle",label:"Commands",position:{x:0,y:0}},{id:"dom",type:"multi-handle",label:"Domain",position:{x:200,y:0}},{id:"infra",type:"multi-handle",label:"Infrastructure",position:{x:400,y:0}},{id:"fn",type:"multi-handle",label:"Functions",position:{x:200,y:150}}],p=[{id:"l1",source:"cmd",target:"dom",sourceHandle:"right-source",targetHandle:"left",...e},{id:"l2",source:"dom",target:"infra",sourceHandle:"right-source",targetHandle:"left",...e},{id:"l3",source:"dom",target:"fn",sourceHandle:"bottom-source",targetHandle:"top",...e},{id:"l4",source:"cmd",target:"infra",sourceHandle:"bottom-source",targetHandle:"bottom",...e}],h=[{id:"user",type:"multi-handle",label:"User",position:{x:0,y:0}},{id:"server",type:"multi-handle",label:"Server (Infra)",position:{x:200,y:0}},{id:"route",type:"multi-handle",label:"Route (Domain)",position:{x:400,y:0}},{id:"action",type:"multi-handle",label:"Action",position:{x:430,y:150}},{id:"db",type:"multi-handle",label:"Database",position:{x:426,y:300}}],g=[{id:"r1",source:"user",target:"server",sourceHandle:"right-source",targetHandle:"left",label:"HTTP",...e},{id:"r2",source:"server",target:"route",sourceHandle:"right-source",targetHandle:"left",label:"Dispatch",...e},{id:"r3",source:"route",target:"action",sourceHandle:"bottom-source",targetHandle:"top",label:"Execute",...e},{id:"r4",source:"action",target:"db",sourceHandle:"right-source",targetHandle:"right",label:"Query",...e},{id:"r5",source:"db",target:"action",sourceHandle:"top-source",targetHandle:"bottom",label:"Result",...n},{id:"r6",source:"action",target:"user",sourceHandle:"left-source",targetHandle:"bottom",label:"Response",...e}],m=[{id:"rd1",type:"multi-handle",label:"Core Architecture",position:{x:0,y:0}},{id:"rd2",type:"multi-handle",label:"Enhanced Plugins",position:{x:0,y:150}},{id:"rd3",type:"multi-handle",label:"Advanced Observability",position:{x:0,y:300}},{id:"rd4",type:"multi-handle",label:"Cloud Native",position:{x:0,y:450}}],b=[{id:"re1",source:"rd1",target:"rd2",sourceHandle:"bottom-source",targetHandle:"left",label:"Implemented",...n},{id:"re2",source:"rd2",target:"rd3",sourceHandle:"bottom-source",targetHandle:"left",label:"WIP",...e,animated:!0},{id:"re3",source:"rd3",target:"rd4",sourceHandle:"bottom-source",targetHandle:"left",label:"Planned",...e}];return(H,t)=>{const r=f("InteractiveFlow");return v(),y("div",null,[t[0]||(t[0]=a("h1",{id:"architecture-overview",tabindex:"-1"},[i("Architecture Overview "),a("a",{class:"header-anchor",href:"#architecture-overview","aria-label":"Permalink to “Architecture Overview”"},"​")],-1)),t[1]||(t[1]=a("p",null,"This project follows a clean, modular architecture inspired by Domain-Driven Design (DDD) principles, focused on performance and developer productivity using TypeScript and Bun.",-1)),t[2]||(t[2]=a("h2",{id:"technology-stack",tabindex:"-1"},[i("Technology Stack "),a("a",{class:"header-anchor",href:"#technology-stack","aria-label":"Permalink to “Technology Stack”"},"​")],-1)),o(r,{nodes:d,edges:c}),t[3]||(t[3]=a("h2",{id:"layer-overview",tabindex:"-1"},[i("Layer Overview "),a("a",{class:"header-anchor",href:"#layer-overview","aria-label":"Permalink to “Layer Overview”"},"​")],-1)),o(r,{nodes:u,edges:p}),t[4]||(t[4]=l('<h3 id="_1-commands-src-commands" tabindex="-1">1. Commands (<code>src/commands/</code>) <a class="header-anchor" href="#_1-commands-src-commands" aria-label="Permalink to “1. Commands (src/commands/)”">​</a></h3><p>The entry point of the application. It handles process management (via PM2), building, and bootstrapping. It also hosts the <strong>Zero-Dep Template Engine</strong> for domain scaffolding.</p><h3 id="_2-domain-src-domain" tabindex="-1">2. Domain (<code>src/domain/</code>) <a class="header-anchor" href="#_2-domain-src-domain" aria-label="Permalink to “2. Domain (src/domain/)”">​</a></h3><p>The heart of the application. Each subfolder (e.g., <code>user</code>) represents a bounded context and contains:</p><ul><li><strong>actions</strong>: The actually business logic handlers.</li><li><strong>entity</strong>: Data models and database table definitions.</li><li><strong>schema</strong>: Input validation and output serialization using Zod.</li><li><strong>routes</strong>: Fastify route definitions.</li></ul><h3 id="_3-infrastructure-src-infrastructure" tabindex="-1">3. Infrastructure (<code>src/infrastructure/</code>) <a class="header-anchor" href="#_3-infrastructure-src-infrastructure" aria-label="Permalink to “3. Infrastructure (src/infrastructure/)”">​</a></h3><p>Contains implementation details of technical services:</p><ul><li><strong>Server</strong>: Fastify configuration and boilerplate.</li><li><strong>Cache</strong>: Redis integration for high-performance data storage.</li><li><strong>Repository</strong>: Database connection and base repository patterns.</li><li><strong>Messages</strong>: Communication layer (distributed via Redis or internal via Node events).</li><li><strong>Plugins</strong>: Agent system for modular extensions (e.g., Authentication).</li></ul><h2 id="request-flow" tabindex="-1">Request Flow <a class="header-anchor" href="#request-flow" aria-label="Permalink to “Request Flow”">​</a></h2><p>When an HTTP request arrives, it follows this path:</p><ol><li><strong>Fastify Server</strong> (Infrastructure) receives the request.</li><li><strong>Request Transform</strong> converts raw data and identifies the language/token.</li><li><strong>Route</strong> (Domain) matches the path and calls the appropriate <strong>Action</strong>.</li><li><strong>Action</strong> (Domain) validates input using <strong>Schema</strong> (Domain/Zod).</li><li><strong>Action</strong> interacts with <strong>Repository</strong> or <strong>Cache</strong> (Infrastructure) to fetch/persist data.</li><li><strong>Action</strong> returns the response, which is then serialized by the <strong>Route</strong>.</li></ol>',11)),o(r,{nodes:h,edges:g}),t[5]||(t[5]=a("h2",{id:"future-roadmap",tabindex:"-1"},[i("Future Roadmap "),a("a",{class:"header-anchor",href:"#future-roadmap","aria-label":"Permalink to “Future Roadmap”"},"​")],-1)),t[6]||(t[6]=a("p",null,"We are constantly evolving the boilerplate to provide the best developer experience. Here is our current roadmap:",-1)),o(r,{nodes:m,edges:b}),t[7]||(t[7]=l('<h3 id="phase-1-core-architecture-completed" tabindex="-1">Phase 1: Core Architecture (Completed) <a class="header-anchor" href="#phase-1-core-architecture-completed" aria-label="Permalink to “Phase 1: Core Architecture (Completed)”">​</a></h3><ul><li>[x] Zero-Dep Template Engine</li><li>[x] Auto-CRUD Scaffolding</li><li>[x] Redis-powered Smart Caching</li><li>[x] i18n support</li></ul><h3 id="phase-2-enhanced-plugins-in-progress" tabindex="-1">Phase 2: Enhanced Plugins (In Progress) <a class="header-anchor" href="#phase-2-enhanced-plugins-in-progress" aria-label="Permalink to “Phase 2: Enhanced Plugins (In Progress)”">​</a></h3><ul><li>[ ] Advanced Authentication (OAuth2, OIDC)</li><li>[ ] Distributed Locking system</li><li>[ ] Real-time WebSocket plugin</li></ul><h3 id="phase-3-advanced-observability-planned" tabindex="-1">Phase 3: Advanced Observability (Planned) <a class="header-anchor" href="#phase-3-advanced-observability-planned" aria-label="Permalink to “Phase 3: Advanced Observability (Planned)”">​</a></h3><ul><li>[ ] OpenTelemetry integration</li><li>[ ] Structured logging with automatic trace correlation</li><li>[ ] Performance monitoring dashboard</li></ul><h3 id="phase-4-cloud-native-planned" tabindex="-1">Phase 4: Cloud Native (Planned) <a class="header-anchor" href="#phase-4-cloud-native-planned" aria-label="Permalink to “Phase 4: Cloud Native (Planned)”">​</a></h3><ul><li>[ ] Kubernetes operators for domain scaling</li><li>[ ] Serverless deployment adapters</li><li>[ ] Edge runtime optimization</li></ul>',8))])}}});export{k as __pageData,w as default};
